<!DOCTYPE html>
<html lang="en">
  <head>
    <script>
      (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({ "gtm.start": new Date().getTime(), event: "gtm.js" });
        var f = d.getElementsByTagName(s)[0],
          j = d.createElement(s),
          dl = l != "dataLayer" ? "&l=" + l : "";
        j.async = true;
        j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
        f.parentNode.insertBefore(j, f);
      })(window, document, "script", "dataLayer", "GTM-PBC9KP87");
    </script>
    <!-- End Google Tag Manager -->

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Empower your business with ANSH INFOTECH, Ludhiana's top IT solutions provider.From development to cybersecurity, AI to digital marketing, we got you covered!"
    />
    <meta
      property="og:title"
      content="Home - ANSH InfoTech:Leading IT Solutions in Ludhiana"
    />
    <meta
      property="og:description"
      content="Empower your business with ANSH INFOTECH, Ludhiana's top IT solutions provider.From development to cybersecurity, AI to digital marketing, we got you covered!"
    />
    <meta property="og:url" content="https://www.anshinfotech.org" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://www.anshinfotech.org/logo" />

    <title>
      Admin/Couselling Enquiries - ANSH InfoTech:Leading IT Solutions in
      Ludhiana
    </title>
    <link rel="canonical" href="https://www.anshinfotech.org" />
    <link rel=" icon" href="logo.webP" type="image/x-icon" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/quill@2.0.2/dist/quill.snow.css"
      rel="stylesheet"
    />

    <style>
      table {
        border-collapse: collapse;
        width: 100%;
      }
      th,
      td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: left;
      }
      th {
        background-color: #f4f4f4;
      }
    </style>
  </head>
  <body>
    <!-- Google Tag Manager (noscript) -->
    <noscript
      ><iframe
        src="https://www.googletagmanager.com/ns.html?id=GTM-PBC9KP87"
        height="0"
        width="0"
        style="display: none; visibility: hidden"
      ></iframe
    ></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <nav class="navbar bg-dark sticky-top mb-lg-3">
      <div class="container-fluid">
        <a class="navbar-brand" href="admin.html">
          <h1 class="text-light">Admin Dashboard</h1>
        </a>
        <button
          class="navbar-toggler bg-light"
          type="button"
          data-bs-toggle="offcanvas"
          data-bs-target="#offcanvasNavbar"
          aria-controls="offcanvasNavbar"
          aria-label="Toggle navigation"
        >
          <span
            class="navbar-toggler-icon"
            style="background-color: white; color: white"
          ></span>
        </button>
        <div
          class="offcanvas offcanvas-end"
          tabindex="-1"
          id="offcanvasNavbar"
          aria-labelledby="offcanvasNavbarLabel"
        >
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="offcanvasNavbarLabel">Open</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="offcanvas"
              aria-label="Close"
            ></button>
          </div>
          <div class="offcanvas-body">
            <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
              <li class="nav-item">
                <a
                  class="nav-link"
                  href="admin.html"
                  data-bs-dismiss="offcanvas"
                  >Open Dashboard</a
                >
              </li>
            </ul>
          </div>
        </div>
      </div>
    </nav>

    <h1 class="text-center">Student Enquiries</h1>
    <div id="enquiry-container"></div>

    <script>
      let enArray;

      const fetchData = async () => {
        try {
          const response = await fetch(
            // "http://localhost:3000/api/get-all-enquries"
            "https://www.anshinfotech.org/api/get-all-enquries"
          );

          const data = await response.json();

          if (data.success) {
            enArray = data.Data;
            console.log(enArray);
            const container = document.getElementById("enquiry-container");
            container.style.width = "150%";
            // Create a table
            const table = document.createElement("table");
            // Create the header row
            const headerRow = document.createElement("tr");
            const headers = [
              "Name",
              "Father Name",
              "Mother Name",
              "Address",
              "Mobile",
              "Alternative Mobile",
              "Email",
              "Enquiry For",
              "Preferred Batch",
              "Gender",
              "Date of Birth",
              "Preferred By",
            ];

            headers.forEach((header) => {
              const th = document.createElement("th");
              th.textContent = header;
              headerRow.appendChild(th);
              table.append(headerRow);
            });

            enArray.forEach((item) => {
              const name = document.createElement("td");
              const fatherName = document.createElement("td");
              const motherName = document.createElement("td");
              const address = document.createElement("td");
              const mobile = document.createElement("td");
              const altMobile = document.createElement("td");
              const email = document.createElement("td");
              const enqFor = document.createElement("td");
              const preBatch = document.createElement("td");
              const gender = document.createElement("td");
              const dob = document.createElement("td");
              const review = document.createElement("td");
              const course = document.createElement("td");

              const dataRow = document.createElement('tr');

              name.innerText = item.name;
              fatherName.innerText = item.fatherName;
              motherName.innerText = item.motherName;
              dob.innerText = new Date(item.dob).toDateString();
              review.innerText = item.review;
              preBatch.innerText = item.batchTime;
              gender.innerText = item.gender;
              enqFor.innerText = item.enqFor;
              course.innerText = item.course;
              altMobile.innerText = item.altmobile;
              address.innerText = item.address;
              email.innerText = item.email;
              mobile.innerText = item.mobile;

              dataRow.append(name);
              dataRow.append(fatherName);
              dataRow.append(motherName);
              dataRow.append(address);
              dataRow.append(mobile);
              dataRow.append(altMobile);
              dataRow.append(email);
              dataRow.append(enqFor);
              dataRow.append(preBatch);
              dataRow.append(gender);
              dataRow.append(dob);
              dataRow.append(review); 
              dataRow.append(course); 

              table.append(dataRow)
            });

            container.append(table);
          }
        } catch (error) {
          alert(`The error occured is : ${error.message}`);
        }
      };

      document.addEventListener("DOMContentLoaded", fetchData);
    </script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
